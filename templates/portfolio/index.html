{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="H1cmwsdzkkebdUsuOCDpVBDP-R3Ijyzf1D-JjuPRhM4" />
    <title>{{ user.name }} {{ user.surname }}</title>
    <link rel="stylesheet" type="text/css" href="{% static "css/portfolio/index.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "css/portfolio/spicySections.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "css/portfolio/percentageCircle.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "css/portfolio/hamburgerMenu.css" %}"/>
    <link rel="stylesheet" type="text/css" href="{% static "css/portfolio/loader.css" %}"/>
    <link rel="icon" sizes="32x32" href="{% static "img/favicon.svg" %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script type="module" src="https://assets.codepen.io/3/SpicySections-2.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/scrollreveal"></script>
    <script>
        $(document).ready(function() {
            setTimeout(function() {
                $('body').addClass('loaded');
            }, 0);
        });
        let proj_stacks = []
        {% for stack in stacks %}
            proj_stacks.push({id: '{{ stack.id }}', tech_id: '{{ stack.tech_id }}', name: '{{ stack.name }}', avatar: '{% static stack.avatar %}'});
        {% endfor %}
    </script>
</head>
<body id="home">
    <div id="loader-wrapper">
        <div id="loader"></div>

        <div class="loader-section section-left"></div>
        <div class="loader-section section-right"></div>

    </div>
    <div class="scrollToTop">
        <i class="fas fa-angle-up"></i>
    </div>
    <nav class="navbar defaultMargin" style="position:relative;">
        <div class="brand__container">
            <div class="brand" style="z-index: -1;">
                <h2>Developer <span>3.0</span></h2>
            </div>
            <div class="toggle" style="z-index: 1000;">
                <div class="menu-btn__burger"></div>
            </div>
        </div>
        <div class="links">
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#skills">Skills</a></li>
                <li><a href="#portfolio">Portfolio</a></li>
                <li><a href="#programming">Programming</a></li>
                <a href="#contact" style="text-decoration: none;" onclick="selectFunction()"><button><i class="far fa-id-card"></i>Contact</button></a>
                <li>
                    <div class="dropdown" style="margin-top: 0; display: inline-block;">

                        <button class="dropbtn" onclick="toggleFunction()">Documents
                            <i class="fa fa-caret-down"></i>
                        </button>

                        <div class="dropdown-content" id="myDropdown" style="display: none; z-index: 1000;">
                            <a onclick="selectFunction()" class="dropdown__item" href="{% url 'get document' %}?type=cv" target="_blank"><i class="fa fa-file-pdf-o"></i> CV</a>
                            <a onclick="selectFunction()" class="dropdown__item" href="{% url 'get document' %}?type=bachelor" target="_blank"><i class="fa fa-file-pdf-o"></i> BSc Degree</a>
                        </div>
                   </div>
                </li>
            </ul>
        </div>
    </nav>
    <div class="responsive__navbar" style="z-index: 100;">
        <div class="links" style="position: relative; z-index: 1;">
            <ul>
                <li class="nav__link"><a class="nav__a" href="#home">Home</a></li>
                <li class="nav__link"><a class="nav__a" href="#about">About</a></li>
                <li class="nav__link"><a class="nav__a" href="#skills">Skills</a></li>
                <li class="nav__link"><a class="nav__a" href="#portfolio">Portfolio</a></li>
                <li class="nav__link"><a class="nav__a" href="#programming">Programming</a></li>
                <li class="nav__link"><a href="#contact" style="text-decoration: none;"><button><i class="far fa-id-card"></i>Contact</button></a></li>
                <li>
                    <div class="dropdown">
                        <button class="dropbtn" onclick="toggleFunctionResponsive()">Documents<i class="fa fa-caret-down"></i></button>
                        <div class="dropdown-content" id="myDropdownResponsive" style="display: none; z-index: 100;">
                            <a class="nav__link" style="font-size: small;" onclick="selectFunctionResponsive()" href="{% url 'get document' %}?type=cv" target="_blank"><i class="fa fa-file-pdf-o"></i> CV</a>
                            <a class="nav__link" style="font-size: small;" onclick="selectFunctionResponsive()" href="{% url 'get document' %}?type=bachelor" target="_blank"><i class="fa fa-file-pdf-o"></i> BSc Degree</a>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <section class="hero defaultMargin" style="position:relative; z-index: 1;">
        <div class="content">
            <div class="title">
                <h1>Hi, I'm {{ user.name }}!</h1>
            </div>
            <a href="#about" style="text-decoration: none;" onclick="selectFunction()"><button><i class="fas fa-coffee"></i> Learn More</button></a>
        </div>
        <div class="image">
            <img src="{{ user.picture }}" alt="" style="align-self: center; justify-self: center;"/>
        </div>
    </section>
    <div class="spring right" id="spring1" onclick="selectFunction()">
        <div class="coil"></div>
        <div class="bar gradient"></div>
    </div>
    <section id="about" class="about">
        <div class="title__container">
            <h2>About me</h2>
            <br>
            <p><i class="fa fa-quote-right"></i>&emsp;{{ quote.quote }}</p>
            <br>
            <p style="text-align: match-parent; font-style: italic; color: #c5e35b;"> - {{ quote.author }}</p>
            <br>
        </div>
    </section>
    <div class="spring" id="spring1L">
        <div class="coil"></div>
        <div class="bar gradient"></div>
    </div>
    <section id="skills" class="skills defaultMargin">
        <div class="title__container">
            <h2>Main skills</h2>
            <p></p>
        </div>
        <div class="content">
            <div class="skill">
                <div class="container">
                    <div class="c100 dark green p100 center">
                        <span>100%</span>
                        <div class="slice">
                            <div class="bar"></div>
                            <div class="fill"></div>
                        </div>
                    </div>
                </div>
                <h3>Backend Development</h3>
            </div>
            <div class="skill">
                <div class="container two">
                    <div class="c100 dark green p40 center">
                        <span>40%</span>
                        <div class="slice">
                            <div class="bar"></div>
                            <div class="fill"></div>
                        </div>
                    </div>
                </div>
                <h3>Frontend Development</h3>
            </div>
            <div class="skill">
                <div class="container three">
                    <div class="c100 dark green p50 center">
                        <span>50%</span>
                        <div class="slice">
                            <div class="bar"></div>
                            <div class="fill"></div>
                        </div>
                    </div>
                </div>
                <h3>Application Development</h3>
            </div>
        </div>
    </section>
    <div class="spring right" id="spring2">
        <div class="coil"></div>
        <div class="bar gradient"></div>
    </div>
    <section id="portfolio" class="portfolio defaultMargin">

        <div class="title__container">
            <h2>Projects</h2>
            <p>Some of the projects I've worked on.</p>
        </div>

        <div class="vertTabs">


            <div class="tab">
                {% for proj in projects %}
                    <a class="tablinks" onclick="openProject(event, 'proj{{ proj.id }}', this)" id="defaultOpen" name="{{ proj.title }}">{{ proj.title }}</a>
                {% endfor %}
            </div>

            <div class="vertTabcontent">

                {% for proj in projects %}
                    <div id="proj{{ proj.id }}" class="tabcontent">
                        <div class="backgroundL1"></div>
                        <div class="backgroundR1"></div>
                        <h3>{{ proj.title }}</h3>
                        <br>
                        <p>{{ proj.description }}</p>
                        <br>
                        <div id="projTabStack{{ proj.id }}" class="projStack">
                        </div>
                        <br>
                        <ul>
                            <li id="projTabLink{{ proj.id }}" style="display: block;"><a class="proj__link" href="{{ proj.link }}" target="_blank"><i class="fa fa-external-link"></i> Homepage</a></li>
                            <li id="projTabGit{{ proj.id }}" style="display: block;"><a class="proj__link" href="{{ proj.git }}" target="_blank"><i class="fa fa-github"></i> Source code</a></li>
                        </ul>
                    </div>
                    <script>
                        var i;
                        var stack = proj_stacks.filter(function(item){
                            return item.id === '{{ proj.id }}';
                        });

                        for (i = 0; i < stack.length; i++) {
                            document.getElementById('projTabStack{{ proj.id }}').innerHTML += "<img id=\"stackTabImg{{ proj.id }}" + stack[i].tech_id + "\"" + "src=\"" + stack[i].avatar + "\" alt=\"\"/>";
                            if (stack[i].name === 'Flask') {
                                var id = 'stackTabImg{{ proj.id }}' + stack[i].tech_id;
                                 document.getElementById(id).style.filter = 'invert(100%)';
                            }
                        }

                        if ('{{ proj.link }}' === 'None') {
                            document.getElementById("projTabLink{{ proj.id }}").style.display = "none";
                        }
                        if ('{{ proj.git }}' === 'None') {
                            document.getElementById("projTabGit{{ proj.id }}").style.display = "none";
                        }
                    </script>
                {% endfor %}

            </div>

        </div>

        <div class="portfolio__container" style="display: grid;">
            {% for proj in projects %}
                <div id="springVert{{ proj.id }}" class="springVert">
                </div>
                <div class="design">
                    <div class="backgroundL2"></div>
                    <div class="backgroundR2"></div>
                    <div id="proj{{ proj.id }}" class="proj-container">
                        <details id="projDeets{{ proj.id }}">
                            <summary>{{ proj.title }}</summary>
                            <br>
                            <p>{{ proj.description }}</p>
                            <br>
                            <div id="projStack{{ proj.id }}" class="projStack">
                            </div>
                            <br>
                            <ul>
                                <li id="projLink{{ proj.id }}" style="display: block;"><a class="proj__link" href="{{ proj.link }}" target="_blank"><i class="fa fa-external-link"></i> Homepage</a></li>
                                <li id="projGit{{ proj.id }}" style="display: block;"><a class="proj__link" href="{{ proj.git }}" target="_blank"><i class="fa fa-github"></i> Source code</a></li>
                            </ul>
                        </details>
                    </div>
                </div>
                <script>
                    if ('{{ proj.id }}' !== '1') {
                        document.getElementById('springVert{{ proj.id }}').innerHTML = "<div class=\"coil\"></div>"

                    } else {
                        document.getElementById('springVert{{ proj.id }}').style.display = "none";
                        document.getElementById('projDeets{{ proj.id }}').setAttribute("open", "");
                    }

                    var i;
                    var stack = proj_stacks.filter(function(item){
                        return item.id === '{{ proj.id }}';
                    });

                    for (i = 0; i < stack.length; i++) {
                        document.getElementById('projStack{{ proj.id }}').innerHTML += "<img id=\"stackImg{{ proj.id }}" + stack[i].tech_id + "\"" + "src=\"" + stack[i].avatar + "\" alt=\"\"/>";
                        if (stack[i].name === 'Flask') {
                            var id = 'stackImg{{ proj.id }}' + stack[i].tech_id;
                             document.getElementById(id).style.filter = 'invert(100%)';
                        }
                    }

                    if ('{{ proj.link }}' === 'None') {
                        document.getElementById("projLink{{ proj.id }}").style.display = "none";
                    }
                    if ('{{ proj.git }}' === 'None') {
                        document.getElementById("projGit{{ proj.id }}").style.display = "none";
                    }
                </script>
            {% endfor %}
        </div>
    </section>
    <div class="spring" id="spring2L">
        <div class="coil"></div>
        <div class="bar gradient"></div>
    </div>
    <section id="programming" class="programming defaultMargin">
        <div class="title__container">
            <h2>Programming</h2>
            <p>Languages, frameworks, databases and tools that I am familiar with.</p>
        </div>
        <spicy-sections>
            <h3><i class="fa fa-language"></i> Languages</h3>
            <div class="container">
                {% for language in languages %}
                    <div class="design">
                        <div class="stack">

                            <img id="img{{ language.id }}" src="{{ language.avatar }}" alt="" style="filter:none;">
                            <h3 style="text-align: center;">{{ language.name }}</h3>
                            <p id="langPar{{ language.id }}" style="color: white;"></p>

                            <script type="text/javascript">
                                if ("{{ language.confidence }}" === "Confident") {
                                    document.getElementById("langPar{{ language.id }}").innerHTML =
                                        "<i class=\"fa fa-check-square-o\"></i> {{ language.confidence }}";
                                } else if ("{{ language.confidence }}" === "Partially confident") {
                                    document.getElementById("langPar{{ language.id }}").innerHTML =
                                        "<i class=\"fa fa-check\"></i> {{ language.confidence }}";
                                } else {
                                    document.getElementById("langPar{{ language.id }}").innerHTML =
                                        "<i class=\"fa fa-info-circle\"></i> {{ language.confidence }}";
                                }
                            </script>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <h3><i class="fa fa-map"></i> Frameworks</h3>
            <div class="container">
                {% for framework in frameworks %}
                    <div class="design">
                        <div class="stack">

                            <img id="img{{ framework.id }}" src="{{ framework.avatar }}" alt="" style="filter:none;">
                            <h3 style="text-align: center;">{{ framework.name }}</h3>
                            <p id="framePar{{ framework.id }}" style="color: white;"></p>

                            <script type="text/javascript">
                                if ("{{ framework.confidence }}" === "Confident") {
                                    document.getElementById("framePar{{ framework.id }}").innerHTML =
                                        "<i class=\"fa fa-check-square-o\"></i> {{ framework.confidence }}";
                                } else if ("{{ language.confidence }}" === "Partially confident") {
                                    document.getElementById("framePar{{ framework.id }}").innerHTML =
                                        "<i class=\"fa fa-check\"></i> {{ framework.confidence }}";
                                } else {
                                    document.getElementById("framePar{{ framework.id }}").innerHTML =
                                        "<i class=\"fa fa-info-circle\"></i> {{ framework.confidence }}";
                                }
                                if ("{{ framework.name }}" === "Flask") {
                                     document.getElementById('img{{ framework.id }}').style.filter = 'invert(100%)';
                                }
                            </script>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <h3><i class="fa fa-database"></i> Databases</h3>
            <div class="container">
                {% for db in databases %}
                    <div class="design">
                        <div class="stack">

                            <img id="img{{ db.id }}" src="{{ db.avatar }}" alt="" style="filter:none;">
                            <h3 style="text-align: center;">{{ db.name }}</h3>
                            <p id="dbPar{{ db.id }}" style="color: white;"></p>

                            <script type="text/javascript">
                                if ("{{ db.confidence }}" === "Confident") {
                                    document.getElementById("dbPar{{ db.id }}").innerHTML =
                                        "<i class=\"fa fa-check-square-o\"></i> {{ db.confidence }}";
                                } else if ("{{ db.confidence }}" === "Partially confident") {
                                    document.getElementById("dbPar{{ db.id }}").innerHTML =
                                        "<i class=\"fa fa-check\"></i> {{ db.confidence }}";
                                } else {
                                    document.getElementById("dbPar{{ db.id }}").innerHTML =
                                        "<i class=\"fa fa-info-circle\"></i> {{ db.confidence }}";
                                }
                            </script>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <h3><i class="fa fa-wrench"></i> Tools</h3>
            <div class="container">
                {% for tool in tools %}
                    <div class="design">
                        <div class="stack">

                            <img id="img{{ tool.id }}" src="{{ tool.avatar }}" alt="" style="filter:none;">
                            <h3 style="text-align: center;">{{ tool.name }}</h3>
                            <p id="toolPar{{ tool.id }}" style="color: white;"></p>

                            <script type="text/javascript">
                                if ("{{ tool.confidence }}" === "Confident") {
                                    document.getElementById("toolPar{{ tool.id }}").innerHTML =
                                        "<i class=\"fa fa-check-square-o\"></i> {{ tool.confidence }}";
                                } else if ("{{ tool.confidence }}" === "Partially confident") {
                                    document.getElementById("toolPar{{ tool.id }}").innerHTML =
                                        "<i class=\"fa fa-check\"></i> {{ tool.confidence }}";
                                } else {
                                    document.getElementById("toolPar{{ tool.id }}").innerHTML =
                                        "<i class=\"fa fa-info-circle\"></i> {{ tool.confidence }}";
                                }
                            </script>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </spicy-sections>
    </section>
    <div class="spring right" id="spring3">
        <div class="coil"></div>
        <div class="bar gradient"></div>
    </div>
    <section id="contact" class="contact defaultMargin">
        <div class="contactWrapper">
            <div class="title">
                <div class="bar"></div>
                <h3>Get in touch with me?</h3>
            </div>
            <form id="contactForm">
                <input type="text" placeholder="Name" name="name" required>
                <input type="email" placeholder="Email" name="email"  required>
                <input type="text" placeholder="Subject" name="subject"  required>
                <textarea id="messageTextArea" rows="10" cols="30" name="body" placeholder="Message" required></textarea>
                <button id="sendBtn" type="submit">Send message</button>
            </form>
        </div>
        <iframe class="map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6624.115735522693!2d18.659831128174933!3d-33.88816346628829!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1dcc50e2bba31127%3A0xc4a2b39073618f02!2sOakglen%2C%20Cape%20Town%2C%207530!5e0!3m2!1sen!2sza!4v1639745869857!5m2!1sen!2sza" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
    </section>
    <br>
    <footer class="footer">
        <div class="section">
            <div class="brand">
                <h2>Portfolio website.</h2>
            </div>
            <ul class="social">
                <li><a href="https://www.linkedin.com/in/christiaan-slabbert-9070b922a/" target="_blank"><i class="fab fa-linkedin-in"></i></a></li>
                <li><a href="https://github.com/dequavious" target="_blank"><i class="fa fa-github"></i></a></li>
            </ul>
        </div>
        <div class="section">
            <h3 class="title">Contact</h3>
            <ul class="footContact">
                <li><i class="fas fa-phone"></i> {{ user.number }}</li>
                <li><i class="far fa-envelope-open"></i> {{ user.email }}</li>
                <p></p>
                <a href="#contact"><button>Send message</button></a>
            </ul>
        </div>
         <div class="section">
            <h3 class="title">Popular tags</h3>
            <ul class="footList tags">
                <li>Web</li>
                <li>Development</li>
                <li>Backend</li>
                <li>Frontend</li>
                <li>Fullstack</li>
                <li>Applications</li>
                <li>Databases</li>
                <li>Software</li>
                <li>Programming</li>
            </ul>
        </div>
    </footer>
    <div class="lower__footer">
        <span>{{ user.name }} {{ user.surname }}</span>
        <span id="date"></span>
    </div>
    <script src="{% static "js/animation.js" %}"></script>
    <script src="{% static "js/script.js" %}"></script>
    <script>
        $(document).on('submit', '#contactForm', function(e) {

            var innerHTML = document.getElementById("sendBtn").innerHTML;

            document.getElementById("sendBtn").innerHTML = "<div class=\"loader\"></div>";
            document.getElementById("sendBtn").style.cursor = "default";
            document.getElementById("sendBtn").disabled = true;

            var i, val, name;
            var data = new FormData();
            var input = document.getElementsByTagName('input');

            for (i = 0; i < input.length; i++) {
                name = input[i].name;
                val = input[i].value;
                if ((val.length > 0) && !data.has(name)) {
                    data.append(name, val);
                }
            }

            var textarea = document.getElementById('messageTextArea');

            if (textarea.value.length > 0) {
                data.append(textarea.name, textarea.value)
            }

            e.preventDefault();

            $.ajax({
                type: "POST",
                enctype: 'multipart/form-data',
                url: '{% url 'send email' %}',
                data: data,
                processData: false,
                contentType: false,
                cache: false,
                timeout: 800000,
                success:function () {
                    document.getElementById("sendBtn").innerHTML = innerHTML;
                    document.getElementById("sendBtn").style.cursor = "pointer";
                    document.getElementById("sendBtn").disabled = false;

                    for (i = 0; i < input.length; i++) {
                        val = input[i].value = "";
                    }

                    var textarea = document.getElementById('messageTextArea');

                    textarea.value = "";

                    alert("Your message has been sent!");
                }
            });
        });
    </script>
</body>
</html>
